<!--
    Testbed for FW2020 theme development
    Copyright 2020 J2 Authors
    Licensed under MIT (https://github.com/johnfairh/J2/blob/master/LICENSE)
-->

    <section>
    <header>
      <h1 class="j2-anchor" id="rbgateway">
        <span data-anchor-id="rbgateway">RbGateway</span>
      </h1>
    </header>

    <div class="j2-callout j2-callout-deprecated">
      <div class="j2-callout-title" role="heading" aria-level="5">Deprecated</div>
      <p>This has been deprecated.</p>
    </div>

    <div class="j2-callout j2-callout-declaration">
      <div class="j2-swift">
      <div class="j2-callout-title" role="heading" aria-level="5">Swift</div>
      <pre><code class="language-swift">public final class RbGateway : RbObjectAccess, Encodable, Decodable, DebugPlaygroundPrintable</code></pre>
      </div>
      <div class="j2-objc">
      <div class="j2-callout-title" role="heading" aria-level="5">Objective-C</div>
      <pre><code class="language-objectivec">@interface RbGateway : RbObjectAccess</code></pre>
      </div>
    </div>

    <div class="clearfix">

    <aside class="j2-availability mt-n3" role="note">
      <h6>Availability</h6>
      <ul>
        <li>iOS 7+</li>
        <li>macOS 12-14</li>
        <li>tvOS 4+</li>
        <li>Swift 3+</li>
        <li>Android</li>
      </ul>
    </aside>

    <p>Provides top-level <a href="#item2">Ruby services</a>: information about
    the <a href="#heading">Ruby VM</a>, evaluate expressions, access
    various kinds of Ruby objects, and define new Ruby classes, modules, and
    functions.</p>

    <p><a href="guide.html">Guide link</a>. Instead RubyGateway exports a public
    instance <code>Ruby</code>. Among other things this permits a dynamic
    member lookup programming style.</p>

    <p>See <code><a href="#"><span class="j2-swift">PersistentContainer</span><span class="j2-objc j2-secondary">
    NSPersistentContainer</span></a></code> for a different discussion.</p>

    <p>The Ruby VM is initialized when the object is first accessed and is
    automatically stopped when the process ends. The VM can be manually shut
    down before process exit by calling <code>RbGateway.cleanup()</code> but
    once this has been done the VM cannot be restarted and subsequent calls to
    RubyGateway services will fail.</p>

    <h2 class="j2-anchor" id="heading">
      <span data-anchor-id="heading">Heading <a href="#">link</a></span>
    </h2>

    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
    consequat.</p>

    </div>
    </section>

    <hr/>

<!-- Topics -->
    <section>
    <h1 class="sr-only">Topics</h1>

    <section>
    <a name="//apple_ref/cpp/Section/Properties" class="dashAnchor"></a>
    <h3 class="j2-anchor" id="properties">
      <span data-anchor-id="properties">Properties</span>
    </h3>

    <!-- First item -->
    <section id="item1" class="j2-item">
      <a name="//apple_ref/cpp/Function/cleanup" class="dashAnchor"></a>
      <h4 class="sr-only">cleanup()</h4>
      <a class="j2-item-title" data-toggle="collapse" href="#_item1" role="button" aria-expanded="false" aria-controls="_item1"><code>cleanup()</code></a>
      <div class="collapse j2-item-popopen-wrapper" id="_item1">
        <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none"></div>
        <div class="j2-item-popopen-body">
          <div class="clearfix">

            <aside class="j2-availability mb-n1" role="note">
              <h6>Availability</h6>
              <ul>
                <li>iOS 7+</li>
                <li>macOS 12-14</li>
                <li>tvOS 4+</li>
                <li>Swift 3+</li>
                <li>Android</li>
              </ul>
            </aside>

            <p>Explicitly shut down Ruby and release resources. This includes
            calling END{} code and procs registered by <code>Kernel.#at_exit</code>.
            </p>
            <p>You generally don’t need to call this: it happens automatically as
            part of process exit.</p>
            <ul>
              <li> One
                <li> Two
            </ul>
            <p>Once called you cannot continue to use Ruby in this process: the VM
            cannot be re-setup.  This text continues and keeps going.</p>
          </div> <!-- clearfix -->
          <h5>Declaration</h5>
          <div class="j2-callout j2-callout-declaration">
            <div class="j2-callout-title" role="heading" aria-level="5">Swift</div>
            <pre><code class="language-swift">public func cleanup() -&gt; Int32</code></pre>
          </div>
          <h5>Return Value</h5>
          <p>0 if the cleanup went fine, otherwise some error code from Ruby.</p>
        </div> <!-- popopen-body -->
        </div> <!-- popopen -->
      </div> <!-- popen-wrapper -->
    </section> <!-- item -->

    <!-- Second item -->
    <section id="item2" class="j2-item">
      <a href="//apple_ref/cpp/Function/cleanup" class="dashAnchor"></a>
    <h4 class="sr-only">getID(for:)</h4>
    <a class="j2-item-title" data-toggle="collapse" href="#_item2" role="button" aria-expanded="false" aria-controls="_item2"><code>getID(for:)</code></a>
    <div class="collapse j2-item-popopen-wrapper" id="_item2">
      <div class="j2-item-popopen">
      <div class="j2-item-popopen-pointer" role="none"></div>
      <div class="j2-item-popopen-body">
        <p>Get an <code>ID</code> ready to call a method, for example.</p>
        <p>This is public to permit interop with <code>CRuby</code>.  It is not
        needed for regular RubyGateway use.</p>
        <div class="j2-callout j2-callout-throws">
          <div class="j2-callout-title" role="heading" aria-level="5">Throws</div>
          <p><code>RbError.rubyException(_:)</code> if Ruby raises an exception.
          This probably means the <code>ID</code> space is full which is fairly
          unlikely.</p>
        </div>
        <h5>Default Implementation</h5>
        <p>This lucky method has a default implementation, and this graf
        describes what it does.</p>
        <h5>Declaration</h5>
        <div class="j2-callout j2-callout-declaration">
          <div class="j2-callout-title" role="heading" aria-level="5">Swift</div>
          <pre><code class="language-swift">public func getID(for name: String) throws -&gt; ID</code></pre>
        </div>
        <h5>Parameters</h5>

        <table class="table table-striped table-responsive j2-param-table">
          <tbody>
            <tr>
              <td>
                <code><em>name</em></code>
              </td>
              <td>
                <div>
                  Name to look up, typically constant or method name.
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <h5>Return Value</h5>
        <p>The corresponding ID.</p>
        <nav class="j2-item-nav" aria-label="item details">
          <span class="j2-item-nav-item"><a href="#">Show members</a></span>
          <span class="j2-item-nav-item"><a href="#">Show on GitHub</a></span>
        </nav>
      </div>
      </div>
    </div>
    </section>
    </section>

    <section>
    <a name="//apple_ref/cpp/Section/Methods" class="dashAnchor"></a>
    <h3 class="j2-anchor" id="methods">
      <span data-anchor-id="methods">Methods</span>
    </h3>
    <div class="j2-topic-overview">
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex</p>

      <p>ea commodo consequat. Duis aute irure dolor in reprehenderit in
      voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
    </div>

    <!-- Third item: item title note -->
    <section id="item3" class="j2-item">
      <a href="//apple_ref/cpp/Function/cleanup" class="dashAnchor"></a>
    <h4 class="sr-only">cleanup()</h4>
    <a class="j2-item-title-discouraged" data-toggle="collapse" href="#_item3" role="button" aria-expanded="false" aria-controls="_item3"><span class="sr-only">(Use is discouraged) </span><code>cleanup()</code></a>
    <div class="collapse j2-item-popopen-wrapper" id="_item3">
      <div class="j2-item-popopen">
      <div class="j2-item-popopen-pointer" role="none"></div>
      <div class="j2-item-popopen-body">
        <div class="clearfix">

        <aside class="j2-availability mb-n1" role="note">
          <h6>Availability</h6>
          <ul>
            <li>iOS 7+</li>
            <li>macOS 12-14</li>
            <li>tvOS 4+</li>
            <li>Swift 3+</li>
            <li>Android</li>
          </ul>
        </aside>

        <div class="j2-callout j2-callout-unavailable">
          <div class="j2-callout-title" role="heading" aria-level="5">Unavailable</div>
          <p>This is unavailable.</p>
        </div>

        <div class="j2-callout j2-callout-note">
          <div class="j2-callout-title" role="heading" aria-level="5">Note</div>
          <p>Extension method from Utils.</p>
        </div>

        <p>Explicitly shut down Ruby and release resources. This includes
        calling END{} code and procs registered by <code>Kernel.#at_exit</code>.
        </p>
        <p>You generally don’t need to call this: it happens automatically as
        part of process exit.</p>
        <p>Once called you cannot continue to use Ruby in this process: the VM
        cannot be re-setup.</p>
        </div>
        <h5>Declaration</h5>
        <div class="j2-callout j2-callout-declaration">
          <div class="j2-callout-title" role="heading" aria-level="5">Swift</div>
          <pre><code class="language-swift">public func cleanup() -&gt; Int32</code></pre>
        </div>
        <h5>Return Value</h5>
        <p>0 if the cleanup went fine, otherwise some error code from Ruby.</p>
      </div>
      </div>
    </div>
    </section>

    <!-- Fourth item: Deprecated -->
    <section id="item4" class="j2-item">
      <a href="//apple_ref/cpp/Function/cleanup" class="dashAnchor"></a>
      <h4 class="sr-only">getID(for:)</h4>
      <a class="j2-item-title-discouraged" data-toggle="collapse" href="#_item4" role="button" aria-expanded="false" aria-controls="_item4"><span class="sr-only">(Use is discouraged) </span><code>getID(for:)</code></a>
    <div class="collapse j2-item-popopen-wrapper" id="_item4">
      <div class="j2-item-popopen">
      <div class="j2-item-popopen-pointer" role="none"></div>
      <div class="j2-item-popopen-body">

        <div class="j2-callout j2-callout-deprecated">
          <div class="j2-callout-title" role="heading" aria-level="5">Deprecated</div>
          <p>This has been deprecated.</p>
        </div>
        <p>Get an <code>ID</code> ready to call a method, for example.</p>
        <p>This is public to permit interop with <code>CRuby</code>.  It is not
        needed for regular RubyGateway use.</p>
        <div class="j2-callout j2-callout-throws">
          <div class="j2-callout-title" role="heading" aria-level="5">Throws</div>
          <p><code>RbError.rubyException(_:)</code> if Ruby raises an exception.
          This probably means the <code>ID</code> space is full which is fairly
          unlikely.</p>
        </div>
        <h5>Declaration</h5>
        <div class="j2-callout j2-callout-declaration">
          <div class="j2-callout-title" role="heading">Swift</div>
          <pre><code class="language-swift">public func getID(for name: String) throws -&gt; ID</code></pre>
        </div>
        <h5>Parameters</h5>

        <table class="table table-striped table-responsive j2-param-table">
          <tbody>
            <tr>
              <td>
                <code><em>name</em></code>
              </td>
              <td>
                <div>
                  Name to look up, typically constant or method name.
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <h5>Return Value</h5>
        <p>The corresponding ID.</p>
      </div>
      </div>
    </div>
    </section>

    </section>

    <section>
    <a name="//apple_ref/cpp/Section/Topic%20with%20interesting%20items" class="dashAnchor"></a>
    <h3 class="j2-anchor" id="topic-with-interesting-items">
      <span data-anchor-id="topic-with-interesting-items">Topic <code>with</code> interesting <code><a href="#">items</a></code></span>
    </h3>

      <div id="item5" class="j2-item">
        <a class="j2-item-title" href="#item5"><code>This item is just a link</code></a>
      </div>
      <div id="item6" class="j2-item">
        <a class="j2-item-title" href="#item6">This item is just a link, and isn't even in monospace</a>
      </div>
      <section id="item7" class="j2-item">
          <a href="//apple_ref/cpp/Function/cleanup" class="dashAnchor"></a>
        <h4 class="sr-only">calculateRange(to:)</h4>
        <a class="j2-item-title" href="#item7"><code>
          <span class="j2-item-secondary">func </span>
          calculateRange<span class="j2-item-secondary">(</span>to<span class="j2-item-secondary">:
          Target)</span>
        </code></a>
        <div class="j2-item-overview">
          <p>This is the style to link child definitions when the child
          is not presented in-line here, in the parent.</p>
        </div>
      </section>
      <section id="item8" class="j2-item">
      <a href="//apple_ref/cpp/Function/cleanup" class="dashAnchor"></a>
        <h4 class="sr-only">calculateRange(to:)</h4>
        <a class="j2-item-title" href="#item8"><code>
          <span class="j2-item-secondary">func </span>
          calculateRange<span class="j2-item-secondary">(</span>to<span class="j2-item-secondary">
          :Target)</span>
        </code></a>
        <div class="j2-item-overview">
          <p>Here's another.</p>
        </div>
      </section>

    <!-- Ninth item, insanely long -->
  <section id="item9" class="j2-item">
      <a href="//apple_ref/cpp/Function/cleanup" class="dashAnchor"></a>
    <h4 class="sr-only">authAcquireTokenPost(acceptLanguage:xAppVersion:etcetcetc</h4>
    <a class="j2-item-title" data-toggle="collapse" href="#_item9" role="button" aria-expanded="false" aria-controls="_item9"><code>authAcquireTokenPost(acceptLanguage:<wbr>xAppVersion:<wbr>xDeliveryChannel:<wbr>acquireTokenRequestModel:<wbr>xGeoLocation:<wbr>xApiVersion:<wbr>completion:<wbr>)</code></a>
    <div class="collapse j2-item-popopen-wrapper" id="_item9">
      <div class="j2-item-popopen">
      <div class="j2-item-popopen-pointer" role="none"></div>
      <div class="j2-item-popopen-body">
        <p>Get an <code>ID</code> ready to call a method, for example.</p>
        <p>This is public to permit interop with <code>CRuby</code>.  It is not
        needed for regular RubyGateway use.</p>
        <div class="j2-callout j2-callout-throws">
          <div class="j2-callout-title" role="heading">Throws</div>
          <p><code>RbError.rubyException(_:)</code> if Ruby raises an exception.
          This probably means the <code>ID</code> space is full which is fairly
          unlikely.</p>
        </div>
        <h5>Declaration</h5>
        <div class="j2-callout j2-callout-declaration">
          <div class="j2-callout-title" role="heading">Swift</div>
          <pre><code class="language-swift">public func getID(for name: String) throws -&gt; ID</code></pre>
        </div>
        <h5>Parameters</h5>

        <table class="table table-striped table-responsive j2-param-table">
          <tbody>
            <tr>
              <td>
                <code><em>name</em></code>
              </td>
              <td>
                <div>
                  Name to look up, typically constant or method name.
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <h5>Return Value</h5>
        <p>The corresponding ID.</p>
      </div>
      </div>
    </div>
    </section>

    <!-- Tenth item, even longer -->

      <section id="item10" class="j2-item">
        <a href="//apple_ref/cpp/Function/cleanup" class="dashAnchor"></a>
        <h4 class="sr-only">authAcquireTokenPost(acceptLanguage:etcetcetc)</h4>
        <a class="j2-item-title" href="#item10"><code>
          <span class="j2-swift">
          <span class="j2-item-secondary">func</span>
          authAcquireTokenPost<span class="j2-item-secondary">(</span>acceptLanguage<span class="j2-item-secondary">:
          String,</span> xAppVersion<span class="j2-item-secondary">:
          String,</span> xDeliveryChannel<span class="j2-item-secondary">:
          String,</span> acquireTokenRequestModel<span class="j2-item-secondary">:
          AcquireTokenRequestModel?,</span> xGeoLocation<span class="j2-item-secondary">:
          String?,</span> xApiVersion<span class="j2-item-secondary">:
          String?,</span> completion<span class="j2-item-secondary">:
          ((AcquireTokenResponseModel?, Error?) -> Void))</span></span>
          <span class="j2-objc">+ Look I've no idea what this should look like:</span>
        </code></a>
        <div class="j2-item-overview">
          <p>Multiline formatting for the unexploded-declarations style.</p>
        </div>
      </section>
    </section> <!-- end last topic -->

    </section> <!-- end topics -->
