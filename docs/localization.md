# Localization

Control the language/s of the generated docs.

Default is one language that is English.

Use `--localizations` to pass a list of other languages.
Use `--default-localization` to change the default/main language.

Different parts of the docs found in different ways: code doc comments,
markdown documents, generated text, theme text.

Not localized:
* Text that comes from `@available` attributes
* Docsets
* Inherited doc comments [swift bug probably]
* Coverage badge
* Remote doc site autolinks - will always go to the main localization
* ToC type renaming - somewhat stopgap, intended to be for technical clarity

## Doc comments

Doc comments are assumed to be written to fit the default localization.  Change
this with `--doc-comment-language` (takes a language tag, not a localization
specification).

To translate doc comments, add a `- localizationKey: key` callout to each
comment, create a `QuickHelp.strings` in a directory named for the language
tag, and use `--doc-comment-languages-directory` to point at the directory
_containing_ the language-tag directory.

If we can't resolve a localization key then fall back first to the default
localization and then to the source code.

For example, you have doc comments in English but want to generate Spanish and
French docs with Spanish the default.  Directory structure:
```
 \-- Translations
      \-- fr
           \-- QuickHelp.strings
      \-- es
           \-- QuickHelp.strings
```
Options:
```
--localizations fr:ðŸ‡«ðŸ‡·:FranÃ§ais
--default-localization es:ðŸ‡ªðŸ‡¸:EspaÃ±ol
--doc-comment-language en
--doc-comment-languages-directory Translations
```

## Common output text

Some text that ends up in docs is shared across themes and generated by the
program.  This is translated using the `Output.strings` strings file in the
resource bundle.  Technically need to fork and PR but it's easy enough to
kludge into an installed copy.

## Text entered in options

Some text comes from options like `--title`.  The CLI option sets one value
that is used across all localizations.  To get a different value for each
localization use the config file instead, for example:
```yaml
title:
  en: The title
  fr: Le titre
```

## Markdown files

Some text comes from files: readme, guides, custom abstracts.  These are
localized using a language-tag subdirectory relative to the first file that
is used for the default localization.  Directory structure:
```
 \-- Markdown
     Guide.md
      \-- fr
          Guide.md
```
Options:
```
--localizations fr:ðŸ‡«ðŸ‡·:FranÃ§ais
--guides Markdown/*md
```

Guides always have the same name that is used on disk and in links.
Localize the title of the guide, used on screen, with the `guide_titles`
config key:
```markdown
guide_titles:
  - name: Guide
    title:
      en: The guide
      fr: Le guide
```

## Theme content

A small amount of text is hard-coded into the theme templates like 'Topics'
and 'Declaration'.  This is split out into a `strings.yaml` file which can
be localized within the theme by creating further versions in subdirectories
named for the language tags:
```
  \-- theme/
      theme.yaml
      \-- templates
          strings.yaml
          doc.mustache
          ...
          \-- fr
              strings.yaml
```
